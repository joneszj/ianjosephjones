<div class="fullscreen-bg port">
    <img class="fullscreen-bg__image" src="/img/wedding01.jpg">
</div>
<div class="container">
    <h1>Portfolio</h1>
    <p>portfolio page</p>
</div>

<div id="cbp-so-scroller" class="cbp-so-scroller">
    <!--the diaz wedding-->
    <section class="cbp-so-section">
            <!--bg-->
            <input type="hidden" value="http://www.ianjosephjones.com/wp-content/uploads/2016/09/07-4550-post/Mikah-Danny-132-of-609(pp_w655_h471).jpg">
        <article class="cbp-so-side cbp-so-side-left">
            <a target="_blank" href="http://www.ianjosephjones.com/the-diaz-wedding/">
                <h2>the diaz wedding</h2>
            </a>
            <p>
                some description of the event
            </p>
        </article>
        <a target="_blank" href="http://www.ianjosephjones.com/the-diaz-wedding/">
            <figure class="cbp-so-side cbp-so-side-right">
                <img src="http://www.ianjosephjones.com/wp-content/uploads/2016/09/07-4550-post/Mikah-Danny-225-of-609(pp_w655_h471).jpg" alt="img01">
            </figure>
        </a>
    </section>
    <!--katie & james’s engagement session, jupiter, fl-->
    <section class="cbp-so-section">
            <!--bg-->
            <input type="hidden" value="http://www.ianjosephjones.com/wp-content/uploads/2016/08/16-4532-post/Katie-and-James-40-of-53(pp_w655_h470).jpg">
        <a target="_blank" href="http://www.ianjosephjones.com/katie-jamess-engagement-session-jupiter-fl/">
            <figure class="cbp-so-side cbp-so-side-left">
                <img src="http://www.ianjosephjones.com/wp-content/uploads/2016/08/16-4532-post/Katie-and-James-3-of-53(pp_w655_h471).jpg" alt="img01">
            </figure>
        </a>
        <article class="cbp-so-side cbp-so-side-right">
            <a target="_blank" href="http://www.ianjosephjones.com/katie-jamess-engagement-session-jupiter-fl/">
                <h2>katie & james’s engagement session, jupiter, fl</h2>
            </a>
            <p>
                some description of the event
            </p>
        </article>
    </section>
    <!--the monzon wedding-->
    <section class="cbp-so-section">
            <!--bg-->
            <input type="hidden" value="http://www.ianjosephjones.com/wp-content/uploads/2016/07/22-4414-post/The-Monzon-Wedding-23-of-90(pp_w655_h910).jpg">
        <article class="cbp-so-side cbp-so-side-left">
            <a target="_blank" href="http://www.ianjosephjones.com/the-monzon-wedding/">
                <h2>the monzon wedding</h2>
            </a>
            <p>
                some description of the event
            </p>
        </article>
        <a target="_blank" href="http://www.ianjosephjones.com/the-monzon-wedding/  ">
            <figure class="cbp-so-side cbp-so-side-right">
                <img src="http://www.ianjosephjones.com/wp-content/uploads/2016/07/22-4414-post/The-Monzon-Wedding-57-of-90(pp_w655_h655).jpg" alt="img01">
            </figure>
        </a>
    </section>
    <!--the abreu wedding-->
    <section class="cbp-so-section">
            <!--bg-->
            <input type="hidden" value="http://www.ianjosephjones.com/wp-content/uploads/2016/06/27-4376-post/The-Abreu-Wedding-152-of-217(pp_w655_h470).jpg">
        <a target="_blank" href="http://www.ianjosephjones.com/the-abreu-wedding/">
            <figure class="cbp-so-side cbp-so-side-left">
                <img src="http://www.ianjosephjones.com/wp-content/uploads/2016/06/27-4376-post/The-Abreu-Wedding-106-of-217(pp_w655_h455).jpg" alt="img01">
            </figure>
        </a>
        <article class="cbp-so-side cbp-so-side-right">
            <a target="_blank" href="http://www.ianjosephjones.com/the-abreu-wedding/">
                <h2>the abreu wedding</h2>
            </a>
            <p>
                some description of the event
            </p>
        </article>
    </section>
    <!--the ortiz wedding-->
    <section class="cbp-so-section">
            <!--bg-->
            <input type="hidden" value="http://www.ianjosephjones.com/wp-content/uploads/2016/06/17-4355-post/Carmen-Shawn-1-of-47(pp_w655_h471).jpg">
        <article class="cbp-so-side cbp-so-side-left">
            <a target="_blank" href="http://www.ianjosephjones.com/the-ortiz-wedding/">
                <h2>the ortiz wedding</h2>
            </a>
            <p>
                some description of the event
            </p>
        </article>
        <a target="_blank" href="http://www.ianjosephjones.com/the-ortiz-wedding/">
            <figure class="cbp-so-side cbp-so-side-right">
                <img src="http://www.ianjosephjones.com/wp-content/uploads/2016/06/17-4355-post/The-Ortiz-Wedding-59-of-63(pp_w655_h471).jpg" alt="img01">
            </figure>
        </a>
    </section>
    <!--the johnson wedding-->
    <section class="cbp-so-section">
            <!--bg-->
            <input type="hidden" value="http://www.ianjosephjones.com/wp-content/uploads/2016/06/07-4335-post/The-Johnson-Wedding-71-of-84(pp_w655_h455).jpg">
        <a target="_blank" href="http://www.ianjosephjones.com/the-johnson-wedding/">
            <figure class="cbp-so-side cbp-so-side-left">
                <img src="http://www.ianjosephjones.com/wp-content/uploads/2016/06/07-4335-post/The-Johnson-Wedding-54-of-84(pp_w655_h471).jpg" alt="img01">
            </figure>
        </a>
        <article class="cbp-so-side cbp-so-side-right">
            <a target="_blank" href="http://www.ianjosephjones.com/the-johnson-wedding/">
                <h2>the johnson wedding</h2>
            </a>
            <p>
                some description of the event
            </p>
        </article>
    </section>
    <!--flower & fringe-->
    <section class="cbp-so-section">
            <!--bg-->
            <input type="hidden" value="http://www.ianjosephjones.com/wp-content/uploads/2016/04/26-4216-post/Flower-Fringe-42-of-66(pp_w655_h481).jpg">
        <article class="cbp-so-side cbp-so-side-left">
            <a target="_blank" href="http://www.ianjosephjones.com/flower-fringe/">
                <h2>flower & fringe</h2>
            </a>
            <p>
                some description of the event
            </p>
        </article>
        <a target="_blank" href="http://www.ianjosephjones.com/flower-fringe/">
            <figure class="cbp-so-side cbp-so-side-right">
                <img src="http://www.ianjosephjones.com/wp-content/uploads/2016/04/26-4216-post/Flower-Fringe-56-of-66(pp_w655_h481).jpg" alt="img01">
            </figure>
        </a>
    </section>
    <!--the abreu wedding-->
    <section class="cbp-so-section">
            <!--bg-->
            <input type="hidden" value="http://www.ianjosephjones.com/wp-content/uploads/2016/05/30-4249-post/The-May-Wedding-82-of-140(pp_w655_h455).jpg">    
        <a target="_blank" href="http://www.ianjosephjones.com/the-may-wedding/">
            <figure class="cbp-so-side cbp-so-side-left">
                <img src="http://www.ianjosephjones.com/wp-content/uploads/2016/05/30-4249-post/The-May-Wedding-7-of-7(pp_w655_h655).jpg" alt="img01">
            </figure>
        </a>
        <article class="cbp-so-side cbp-so-side-right">
            <a target="_blank" href="http://www.ianjosephjones.com/the-may-wedding/">
                <h2>the abreu wedding</h2>
            </a>
            <p>
                some description of the event
            </p>
        </article>
    </section>
</div>
<script>
    new cbpScroller(document.getElementById('cbp-so-scroller'));

    function elementInViewport2(el) {
        var top = el.offsetTop;
        var left = el.offsetLeft;
        var width = el.offsetWidth;
        var height = el.offsetHeight;

        while (el.offsetParent) {
            el = el.offsetParent;
            top += el.offsetTop;
            left += el.offsetLeft;
        }

        return (
            top < (window.pageYOffset + window.innerHeight) &&
            left < (window.pageXOffset + window.innerWidth) &&
            (top + height) > window.pageYOffset &&
            (left + width) > window.pageXOffset
        );
    }
    $(document).ready(function() {
        var oriBgSrc = $(".fullscreen-bg__image").attr("src");
        window.scrollTo(0, 0);
        setInterval(function() {
            $.each($(".cbp-so-section"), function() {
                if (!$(window).scrollTop()) {
                     if ( $(".fullscreen-bg__image").attr("src") != oriBgSrc) {
                        $(".fullscreen-bg__image").fadeOut(function() {
                            $(".fullscreen-bg__image").attr("src", oriBgSrc);
                        });
                        $(".fullscreen-bg__image").fadeIn();
                         return false;
                    }
                } else {
                    if ($(this).visible()) {
                        var thisSrc = $(this).find("input").val() == "" ? $(this).find("img").attr("src") : $(this).find("input").val();
                        var bgSrc = $(".fullscreen-bg__image").attr("src")
                        if (thisSrc != bgSrc) {
                            $(".fullscreen-bg__image").fadeOut(function() {
                                $(".fullscreen-bg__image").attr("src", thisSrc);
                            });
                            $(".fullscreen-bg__image").fadeIn();
                            return false;
                        }
                        return false;
                    }
                }
            });
        }, 1000)
    })
</script>